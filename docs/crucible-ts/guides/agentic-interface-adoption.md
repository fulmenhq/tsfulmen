---
title: "Agentic Interface Adoption Guide"
description: "How to adopt Crucible's agentic role catalog and attribution baseline in FulmenHQ repositories"
author: "entarch"
author_of_record: "Dave Thompson (https://github.com/3leapsdave)"
supervised_by: "@3leapsdave"
date: "2026-01-01"
last_updated: "2026-01-01"
status: "approved"
category: "guide"
tags: ["agentic", "adoption", "roles", "attribution", "migration"]
---

# Agentic Interface Adoption Guide

This guide helps FulmenHQ ecosystem maintainers adopt Crucible's v0.3.0 agentic interface: schema-validated role prompts and standardized commit attribution.

## Overview

### What Changed

Crucible v0.3.0 introduces a formal agentic interface:

| Component                | Location                            | Purpose                       |
| ------------------------ | ----------------------------------- | ----------------------------- |
| **Role Catalog**         | `config/agentic/roles/*.yaml`       | Schema-validated role prompts |
| **Attribution Baseline** | `docs/catalog/agentic/attribution/` | Canonical commit format       |
| **Role Schema**          | `schemas/upstream/3leaps/`          | Validation schema (vendored)  |
| **Standards**            | `docs/standards/ai-agents.md`       | Identity and operating modes  |

### Who This Affects

All FulmenHQ ecosystem repositories that:

- Use AI agents for development (Claude Code, Cursor, Codex CLI, etc.)
- Have `AGENTS.md` or similar agentic interface files
- Receive Crucible sync updates (`make sync` consumers)

**Affected repositories include:**

- **Helper Libraries**: gofulmen, pyfulmen, tsfulmen, rsfulmen
- **Forge Templates**: groningen, percheron, aurora
- **Tools**: goneat, fulward, pathfinder
- **Applications**: brooklyn-mcp, sumpter, etknow

## What You'll Receive

After your next `make sync` from Crucible, you'll see new directories:

```
your-repo/
├── config/
│   └── agentic/
│       └── roles/           # NEW: Role YAML files
│           ├── README.md
│           ├── devlead.yaml
│           ├── devrev.yaml
│           ├── infoarch.yaml
│           ├── entarch.yaml
│           ├── cicd.yaml
│           ├── secrev.yaml
│           └── dataeng.yaml
├── docs/
│   ├── catalog/
│   │   └── agentic/
│   │       └── attribution/  # NEW: Attribution templates
│   │           └── git-commit.md
│   └── standards/
│       ├── ai-agents.md      # UPDATED: Enhanced
│       └── agentic-attribution.md  # UPDATED: Refactored
└── schemas/
    └── upstream/
        └── 3leaps/           # NEW: Vendored schema
            └── role-prompt.schema.json
```

## Adoption Steps

### Step 1: Update AGENTS.md

Your `AGENTS.md` should reference the role catalog instead of inline prompts.

**Before (inline prompts):**

```markdown
## Roles

When operating as devlead, focus on implementation...
[Long inline prompt text]
```

**After (catalog reference):**

```markdown
## Roles

| Role       | Prompt                                              | Notes          |
| ---------- | --------------------------------------------------- | -------------- |
| `devlead`  | [devlead.yaml](config/agentic/roles/devlead.yaml)   | Implementation |
| `devrev`   | [devrev.yaml](config/agentic/roles/devrev.yaml)     | Code review    |
| `infoarch` | [infoarch.yaml](config/agentic/roles/infoarch.yaml) | Documentation  |

See [Role Catalog](config/agentic/roles/README.md) for full definitions.
```

### Step 2: Select Appropriate Roles

Not all repositories need all roles. Select based on repository type:

| Repository Type | Recommended Roles                        |
| --------------- | ---------------------------------------- |
| Helper Library  | `devlead`, `devrev`, `infoarch`          |
| Forge Template  | `devlead`, `devrev`, `infoarch`, `cicd`  |
| CLI Tool        | `devlead`, `devrev`, `secrev`            |
| Application     | `devlead`, `devrev`, `secrev`, `dataeng` |
| Infrastructure  | `cicd`, `secrev`, `entarch`              |

### Step 3: Update Commit Attribution

Adopt the attribution baseline from `docs/catalog/agentic/attribution/git-commit.md`.

**Supervised mode** (human reviews before commit):

```
feat(api): add rate limiting middleware

Implements token bucket algorithm with configurable limits.

Changes:
- Add ratelimit package
- Wire middleware in server initialization
- Add integration tests

Generated by Claude Opus 4.5 via Claude Code under supervision of @yourusername

Co-Authored-By: Claude Opus 4.5 <noreply@3leaps.net>
Role: devlead
Committer-of-Record: Your Name <your.email@domain.com> [@yourusername]
```

**Key requirements:**

- Use `noreply@3leaps.net` (NOT `noreply@anthropic.com`)
- Include `Role:` trailer matching your operating role
- Include `Committer-of-Record:` for accountability

### Step 4: Configure Your Agentic Interface

Update your agentic interface configuration to load role prompts from YAML:

**Claude Code** (`CLAUDE.md` or `AGENTS.md`):

```markdown
## Role Loading

Load role prompts from `config/agentic/roles/<role>.yaml`.
The YAML structure provides:

- `metadata.role_id`: Role identifier
- `prompt.system`: System prompt content
- `prompt.context`: Additional context key-value pairs
```

**Cursor** (`.cursorrules` or `AGENTS.md`):

Reference the catalog and instruct the model to read role YAML files.

### Step 5: Validate Role Schema

If you want to validate role YAML files locally:

```bash
# Using ajv-cli
npx ajv validate \
  -s schemas/upstream/3leaps/role-prompt.schema.json \
  -d config/agentic/roles/devlead.yaml
```

Or add to your Makefile:

```makefile
.PHONY: lint-roles
lint-roles:
	@for f in config/agentic/roles/*.yaml; do \
		echo "Validating $$f..."; \
		npx ajv validate -s schemas/upstream/3leaps/role-prompt.schema.json -d "$$f" || exit 1; \
	done
```

### Step 6: Update CI/CD (Optional)

If you have CI checks for commit message format, update them to validate the new attribution format:

```yaml
# .github/workflows/lint.yml
- name: Validate commit attribution
  run: |
    # Check for required trailers
    git log -1 --format=%B | grep -q "Co-Authored-By:" || exit 1
    git log -1 --format=%B | grep -q "Role:" || exit 1
```

## Role Reference

### Available Roles

| Role       | ID         | Use When                                      |
| ---------- | ---------- | --------------------------------------------- |
| Dev Lead   | `devlead`  | Writing features, fixing bugs, implementation |
| Dev Review | `devrev`   | Code review, bug finding, four-eyes audit     |
| Info Arch  | `infoarch` | Documentation, schemas, standards             |
| Ent Arch   | `entarch`  | Cross-repo coordination, API parity           |
| CI/CD      | `cicd`     | Pipelines, builds, automation                 |
| Sec Review | `secrev`   | Security analysis, vulnerability review       |
| Data Eng   | `dataeng`  | Database design, data pipelines               |

### Role Selection Guidelines

1. **Start with `devlead`** - Most common role for implementation work
2. **Add `devrev`** for review tasks - Separate from implementation to avoid self-review
3. **Use `infoarch`** for documentation - Ensures docs focus over code focus
4. **Escalate to `entarch`** for cross-repo work - Maintains ecosystem consistency
5. **Invoke `secrev`** for security-sensitive changes - Dedicated security lens

## Attribution Quick Reference

### Correct Examples

```
Co-Authored-By: Claude Opus 4.5 <noreply@3leaps.net>
Co-Authored-By: Claude Sonnet <noreply@3leaps.net>
Co-Authored-By: GPT-5.2 <noreply@3leaps.net>
```

### Incorrect Examples

```
# WRONG: Vendor email domain
Co-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>

# WRONG: Generic model name
Co-Authored-By: Claude <noreply@3leaps.net>

# WRONG: Missing Role trailer
[No Role: trailer in commit]
```

## Migration Checklist

Use this checklist to track your adoption:

- [ ] Updated to Crucible v0.3.0 (or received sync)
- [ ] Verified `config/agentic/roles/` directory exists
- [ ] Verified `docs/catalog/agentic/attribution/` directory exists
- [ ] Updated `AGENTS.md` to reference role catalog
- [ ] Selected appropriate roles for your repository
- [ ] Updated commit message templates to new attribution format
- [ ] Validated role YAML files against schema (optional)
- [ ] Updated CI checks for attribution format (optional)
- [ ] Team notified of new attribution requirements

## Customization

### Repository-Specific Role Overrides

If you need repository-specific role customizations:

1. **DO NOT** edit synced files in `config/agentic/roles/`
2. **DO** create `config/agentic/roles.local/` (gitignored) for local overrides
3. **DO** document customizations in your `AGENTS.md`

### Adding Custom Roles

Custom roles should:

1. Follow the schema in `schemas/upstream/3leaps/role-prompt.schema.json`
2. Be placed in a non-synced directory (e.g., `config/agentic/roles.local/`)
3. Be documented in your repository's `AGENTS.md`

## Troubleshooting

### Role YAML Not Found

```
Error: config/agentic/roles/devlead.yaml not found
```

**Solution**: Run `make sync` to pull latest Crucible assets.

### Schema Validation Fails

```
Error: data/metadata/role_id must match pattern
```

**Solution**: Ensure role_id uses lowercase alphanumeric with underscores only.

### Attribution Rejected by Hook

```
Error: Commit message missing required trailers
```

**Solution**: Add `Co-Authored-By:`, `Role:`, and `Committer-of-Record:` trailers.

## Support

- **Questions**: Open a discussion at https://github.com/fulmenhq/crucible/discussions
- **Issues**: Report bugs at https://github.com/fulmenhq/crucible/issues
- **Slack**: #fulmen-ecosystem (for FulmenHQ team members)

## References

- [Role Catalog README](../../config/agentic/roles/README.md)
- [Git Commit Attribution Baseline](../catalog/agentic/attribution/git-commit.md)
- [AI Agents Standard](../standards/ai-agents.md)
- [Agentic Attribution Standard](../standards/agentic-attribution.md)
- [Crucible AGENTS.md](../../AGENTS.md) - Reference implementation
