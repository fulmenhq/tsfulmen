# Release Notes: v0.2.4

**Release Date**: 2026-02-01
**Release Type**: Infrastructure + CI/CD

## Automated Release Workflow with npm OIDC

**Summary**: Replaces manual npm publish and GitHub release creation with fully automated workflow using OIDC trusted publishing. Eliminates need for NPM_TOKEN secrets and ensures consistent, secure releases.

### New Features

- **GitHub Actions Release Workflow** (`.github/workflows/release.yml`)
  - Triggers on signed tag push (`v*.*.*`)
  - Validates tag matches VERSION file
  - Runs full quality gates (lint, typecheck, test)
  - Publishes to npm via OIDC trusted publishing
  - Creates draft GitHub release with artifacts
  - Post-release verification (npm install + smoke test)

- **OIDC Trusted Publishing**
  - No long-lived NPM_TOKEN secrets required
  - Automatic provenance attestation for supply chain security
  - Short-lived, cryptographically-signed tokens from GitHub
  - Scoped to specific workflow file

- **Deployment Protection**
  - `publish-npm` environment with manual approval gate
  - Tag pattern: `v*` (matches all version tags)
  - Required reviewer: 1 (maintainer)
  - Prevents accidental publishes

### Security Improvements

- **Secret Elimination**: Removed dependency on NPM_TOKEN secrets
- **Provenance**: Automatic npm provenance attestation
- **Audit Trail**: GitHub environments log all deployments
- **Approval Gate**: Manual review before npm publish

### Process Changes

**Before (Manual)**:

1. Push tag
2. Wait for CI
3. Run `npm publish --access public` locally
4. Create GitHub release manually
5. Upload artifacts manually

**After (Automated)**:

1. Push signed tag
2. Approve deployment in GitHub UI
3. Workflow handles everything (publish + release + verification)

### Prerequisites

- GitHub Environment: `publish-npm` (tag pattern: `v*`)
- npm Trusted Publisher: Configured at npmjs.com
- Secrets: All NPM_TOKEN secrets removed

### Quality Gates

- Tests: 2097 passing
- Lint: Clean
- TypeCheck: Clean
- Workflow: Validated with dry-run
